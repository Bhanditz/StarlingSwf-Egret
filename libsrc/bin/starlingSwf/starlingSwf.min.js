var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},starlingswf;!function(e){var t=function(e){function t(){return e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getTextField=function(e){return this.getChildByName(e)},t.prototype.getMovie=function(e){return this.getChildByName(e)},t.prototype.getSprite=function(e){return this.getChildByName(e)},t.prototype.getImage=function(e){return this.getChildByName(e)},t.prototype.getButton=function(e){return this.getChildByName(e)},t}(egret.DisplayObjectContainer);e.SwfSprite=t}(starlingswf||(starlingswf={}));var starlingswf;!function(e){var t=function(t){function n(e){var n=t.call(this)||this;return n.defScale=-1,n.skin=e,n.addChild(e),n.touchEnabled=!0,n.addEventListener(egret.TouchEvent.TOUCH_BEGIN,n.mouseDown,n),n.addEventListener(egret.TouchEvent.TOUCH_END,n.mouseUp,n),n.addEventListener(egret.TouchEvent.TOUCH_RELEASE_OUTSIDE,n.mouseUp,n),n.addEventListener(egret.TouchEvent.TOUCH_TAP,n.mouseClick,n),n}return __extends(n,t),n.prototype.mouseDown=function(e){-1==this.defScale&&(this.defScale=this.scaleX),this.scaleX=.9*this.defScale,this.scaleY=.9*this.defScale},n.prototype.mouseUp=function(e){-1!=this.defScale&&(this.scaleX=this.defScale,this.scaleY=this.defScale)},n.prototype.mouseClick=function(t){this.dispatchEventWith(e.SwfButton.onClick)},n.prototype.setEnable=function(e){this.touchEnabled=e,e?this.alpha=1:this.alpha=.5},n.prototype.dispose=function(){this.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,this.mouseDown,this),this.removeEventListener(egret.TouchEvent.TOUCH_END,this.mouseUp,this),this.removeEventListener(egret.TouchEvent.TOUCH_RELEASE_OUTSIDE,this.mouseUp,this),this.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.mouseClick,this)},n}(e.SwfSprite);t.onClick="SwfButton.onClick",e.SwfButton=t}(starlingswf||(starlingswf={}));var starlingswf;!function(e){var t=function(){function t(n,i){void 0===i&&(i=24),this._swfData=n,this._createDisplayFuns=new Object,this._createDisplayFuns[t.dataKey_Sprite]=this.createSprite,this._createDisplayFuns[t.dataKey_MovieClip]=this.createMovie,this._createDisplayFuns[t.dataKey_Button]=this.createButton,this._createDisplayFuns[t.dataKey_Image]=this.createImage,this._createDisplayFuns[t.dataKey_Scale9]=this.createS9Image,this._createDisplayFuns[t.dataKey_ShapeImg]=this.createShapeImage,this._createDisplayFuns[t.dataKey_TextField]=this.createTextField,this.swfUpdateManager=e.SwfUpdateManager.createSwfUpdateManager(i)}return t.prototype.createSprite=function(n,i,r){void 0===i&&(i=null),void 0===r&&(r=null),null==r&&(r=this._swfData[t.dataKey_Sprite][n]);for(var o,s,a,l=new e.SwfSprite,h=r.length,d=0;h>d;d++)o=r[d],a=this._createDisplayFuns[o[1]],null!=a&&(s=a.apply(this,[o[0],o]),s.name=o[9],s.x=o[2],s.y=o[3],o[1]==t.dataKey_TextField&&(s.y+=6),o[1]!=t.dataKey_Scale9&&o[1]!=t.dataKey_ShapeImg&&(s.scaleX=o[4],s.scaleY=o[5]),s.skewX=o[6],s.skewY=o[7],s.alpha=o[8],l.addChild(s));return null!=i&&e.SwfBlendMode.setBlendMode(l,i[11]),l},t.prototype.createMovie=function(n,i){void 0===i&&(i=null);var r,o,s,a,l,h=this._swfData[t.dataKey_MovieClip][n],d=h.objCount,u={};for(l in d){o=d[l][0],s=d[l][1],r=null==u[l]?[]:u[l];for(var c=0;s>c;c++)a=this._createDisplayFuns[o],null!=a&&r.push(a.apply(this,[l,null]));u[l]=r}var p=new e.SwfMovieClip(h.frames,h.labels,u,this,h.frameEvents);return p.loop=h.loop,null!=i&&e.SwfBlendMode.setBlendMode(p,i[11]),p},t.prototype.createButton=function(n,i){void 0===i&&(i=null);var r=this._swfData[t.dataKey_Button][n],o=this.createSprite(null,null,r),s=new e.SwfButton(o);return s},t.prototype.createImage=function(n,i){void 0===i&&(i=null);var r=this._swfData[t.dataKey_Image][n],o=new egret.Bitmap;return o.texture=RES.getRes(n),o.anchorOffsetX=r[0],o.anchorOffsetY=r[1],null!=i&&e.SwfBlendMode.setBlendMode(o,i[11]),o},t.prototype.createS9Image=function(n,i){void 0===i&&(i=null);var r=this._swfData[t.dataKey_Scale9][n],o=new egret.Bitmap;return o.texture=RES.getRes(n),o.scale9Grid=new egret.Rectangle(r[0],r[1],r[2],r[3]),null!=i&&(o.width=i[10],o.height=i[11],e.SwfBlendMode.setBlendMode(o,i[13])),o},t.prototype.createShapeImage=function(t,n){void 0===n&&(n=null);var i=new egret.Bitmap;return i.texture=RES.getRes(t),i.fillMode=egret.BitmapFillMode.REPEAT,null!=n&&(i.width=n[10],i.height=n[11],e.SwfBlendMode.setBlendMode(i,n[13])),i},t.prototype.createTextField=function(t,n){void 0===n&&(n=null);var i=new egret.TextField;return null!=n&&(i.width=n[10],i.height=n[11],i.fontFamily=n[12],i.textColor=n[13],i.size=n[14],i.textAlign=n[15],i.text=n[18],this.createTextFieldFilter(i,n[19]),e.SwfBlendMode.setBlendMode(i,n[20])),i},t.prototype.createTextFieldFilter=function(e,t){for(var n in t)"flash.filters::GlowFilter"==n&&(e.stroke=t[n].strength,e.strokeColor=t[n].color)},t}();t.dataKey_Sprite="spr",t.dataKey_Image="img",t.dataKey_MovieClip="mc",t.dataKey_TextField="text",t.dataKey_Button="btn",t.dataKey_Scale9="s9",t.dataKey_ShapeImg="shapeImg",t.dataKey_Component="comp",t.dataKey_Particle="particle",e.Swf=t}(starlingswf||(starlingswf={}));var starlingswf;!function(e){var t=function(){function e(){}return e.createSwfUpdateManager=function(t){var n=new e;return n._animations=[],n._addQueue=[],n._removeQueue=[],n._currentTime=0,n.setFps(t),egret.Ticker.getInstance().register(n.update,n),n},e.prototype.setFps=function(e){this._fps=e,this._fpsTime=1e3/e},e.prototype.addSwfAnimation=function(e){this._addQueue.push(e)},e.prototype.removeSwfAnimation=function(e){this._removeQueue.push(e)},e.prototype.updateAdd=function(){for(var e,t,n=this._addQueue.length,i=0;n>i;i++)t=this._addQueue.pop(),e=this._animations.indexOf(t),-1==e&&this._animations.push(t)},e.prototype.updateRemove=function(){for(var e,t,n=this._removeQueue.length,i=0;n>i;i++)t=this._removeQueue.pop(),e=this._animations.indexOf(t),-1!=e&&this._animations.splice(e,1)},e.prototype.update=function(e){if(this._currentTime+=e,!(this._currentTime<this._fpsTime)){this._currentTime-=this._fpsTime,this._currentTime>this._fpsTime&&(this._currentTime=0),this.updateRemove(),this.updateAdd();for(var t,n=this._animations.length,i=0;n>i;i++)t=this._animations[i],null!=t.getStage()&&t.update()}},e}();e.SwfUpdateManager=t}(starlingswf||(starlingswf={}));var starlingswf;!function(e){var t=function(){function e(){}return e.setBlendMode=function(t,n){e.modes[n]&&(t.blendMode=n)},e}();t.modes={normal:!0,add:!0},e.SwfBlendMode=t}(starlingswf||(starlingswf={}));var lzm;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.addEventListener(egret.Event.ADDED_TO_STAGE,t.addToStage,t),t.addEventListener(egret.Event.REMOVED_FROM_STAGE,t.removeFromStage,t),t}return __extends(t,e),t.prototype.addToStage=function(e){},t.prototype.removeFromStage=function(e){},t.prototype.gotoPanel=function(e){this.parent.addChild(e),this.dispose()},t.prototype.dispose=function(){null!=this.parent&&this.parent.removeChild(this),this.removeEventListener(egret.Event.ADDED_TO_STAGE,this.addToStage,this),this.removeEventListener(egret.Event.REMOVED_FROM_STAGE,this.removeFromStage,this)},t}(egret.DisplayObjectContainer);e.BasePanel=t}(lzm||(lzm={}));var starlingswf;!function(e){var t=function(t){function n(e,n,i,r,o){void 0===o&&(o=null);var s=t.call(this)||this;return s._isPlay=!1,s.loop=!0,s._completeFunction=null,s._hasCompleteListener=!1,s._frames=e,s._labels=n,s._displayObjects=i,s._frameEvents=o,s._startFrame=0,s._endFrame=s._frames.length-1,s._ownerSwf=r,s.setCurrentFrame(0),s.play(),s}return __extends(n,t),n.prototype.getStage=function(){return this.visible?this.stage:null},n.prototype.update=function(){if(this._isPlay){if(this._currentFrame>=this._endFrame){var e=!1;if(this.loop&&this._startFrame!=this._endFrame||(this._ownerSwf&&this.stop(!1),e=!0),this._completeFunction&&this._completeFunction(this),this._hasCompleteListener&&this.dispatchEventWith(egret.Event.COMPLETE),e)return;this._currentFrame=this._startFrame}else this._currentFrame++;this.setCurrentFrame(this._currentFrame)}},n.prototype.setCurrentFrame=function(t){this.removeAllChilds(),this._currentFrame=t,this.__frameInfos=this._frames[this._currentFrame];for(var n,i,r,o,s=this.__frameInfos.length,a=0;s>a;a++){switch(n=this.__frameInfos[a],o=n[10],i=this._displayObjects[n[0]][o],i.$setSkewX(n[6]),i.$setSkewY(n[7]),i.$setAlpha(n[8]),i.name=n[9],i.$setX(n[2]),i.$setY(n[3]),n[1]){case e.Swf.dataKey_Scale9:i.width=n[11],i.height=n[12],e.SwfBlendMode.setBlendMode(i,n[13]);break;case e.Swf.dataKey_ShapeImg:i.width=n[11],i.height=n[12],e.SwfBlendMode.setBlendMode(i,n[13]);break;case e.Swf.dataKey_TextField:r=i,r.width=n[11],r.height=n[12],r.fontFamily=n[13],r.textColor=n[14],r.size=n[15],r.textAlign=n[16],n[19]&&"\r"!=n[19]&&""!=n[19]&&(r.text=n[19]),e.SwfBlendMode.setBlendMode(r,n[20]);break;default:i.$setScaleX(n[4]),i.$setScaleY(n[5]),e.SwfBlendMode.setBlendMode(i,n[11])}this.$doAddChild(i,s,!1)}null!=this._frameEvents&&null!=this._frameEvents[this._currentFrame]&&this.dispatchEventWith(this._frameEvents[this._currentFrame])},n.prototype.getCurrentFrame=function(){return this._currentFrame},n.prototype.play=function(){this._isPlay=!0,this._ownerSwf.swfUpdateManager.addSwfAnimation(this);var t,n,i;for(t in this._displayObjects)if(0==t.indexOf(e.Swf.dataKey_MovieClip)){n=this._displayObjects[t],i=n.length;for(var r=0;i>r;r++)n[r].play()}},n.prototype.stop=function(t){if(void 0===t&&(t=!0),this._isPlay=!1,this._ownerSwf.swfUpdateManager.removeSwfAnimation(this),t){var n,i,r;for(n in this._displayObjects)if(0==n.indexOf(e.Swf.dataKey_MovieClip)){i=this._displayObjects[n],r=i.length;for(var o=0;r>o;o++)i[o].stop(t)}}},n.prototype.gotoAndStop=function(e,t){void 0===t&&(t=!0),this.goTo(e),this.stop(t)},n.prototype.gotoAndPlay=function(e){this.goTo(e),this.play()},n.prototype.goTo=function(e){if("string"==typeof e){var t=this.getLabelData(e);this._currentLabel=t[0],this._currentFrame=this._startFrame=t[1],this._endFrame=t[2]}else"number"==typeof e&&(this._currentFrame=this._startFrame=e,this._endFrame=this._frames.length-1);this.setCurrentFrame(this._currentFrame)},n.prototype.getLabelData=function(e){for(var t,n=this._labels.length,i=0;n>i;i++)if(t=this._labels[i],t[0]==e)return t;return null},n.prototype.isPlay=function(){return this._isPlay},n.prototype.totalFrames=function(){return this._frames.length},n.prototype.currentLabel=function(){return this._currentLabel},n.prototype.labels=function(){for(var e=this._labels.length,t=[],n=0;e>n;n++)t.push(this._labels[n][0]);return t},n.prototype.hasLabel=function(e){var t=this.labels();return!(-1==t.indexOf(e))},n.prototype.addEventListener1=function(e,t,n,i,r){void 0===i&&(i=!1),void 0===r&&(r=0),this.addEventListener(e,t,n,i,r),this._hasCompleteListener=this.hasEventListener(egret.Event.COMPLETE)},n.prototype.removeEventListener1=function(e,t,n,i){void 0===i&&(i=!1),this.removeEventListener(e,t,n,i),this._hasCompleteListener=this.hasEventListener(egret.Event.COMPLETE)},n.prototype.removeAllChilds=function(){for(var e=this.$children,t=e.length-1;t>=0;t--)this.$doRemoveChild(t,!1)},n}(e.SwfSprite);e.SwfMovieClip=t}(starlingswf||(starlingswf={}));var lzm;!function(e){var t=function(){function t(){}return t.init=function(t){e.Alert.root=t,e.Alert.stageWidth=t.stageWidth,e.Alert.stageHeight=t.stageHeight},t.container=function(){return e.Alert.root},t.width=function(){return e.Alert.stageWidth},t.height=function(){return e.Alert.stageHeight},t.initBackGround=function(){null==e.Alert.background&&(e.Alert.background=new egret.Shape,e.Alert.background.graphics.beginFill(0),e.Alert.background.graphics.drawRect(0,0,e.Alert.stageWidth,e.Alert.stageHeight),e.Alert.background.graphics.endFill(),e.Alert.background.alpha=.5,e.Alert.background.touchEnabled=!0)},t.show=function(t){e.Alert.container().addChild(t)},t.alert=function(t,n){if(void 0===n&&(n=!0),-1==e.Alert.dialogs.indexOf(t)&&(t.addEventListener(egret.Event.ADDED_TO_STAGE,e.Alert.dialogAddToStage,t),e.Alert.initBackGround(),e.Alert.container().addChild(e.Alert.background),e.Alert.container().addChild(t),n)){var i=t.getBounds();t.x=(e.Alert.stageWidth-i.width)/2,t.y=(e.Alert.stageHeight-i.height)/2}},t.dialogAddToStage=function(t){var n=t.currentTarget;n.removeEventListener(egret.Event.ADDED_TO_STAGE,e.Alert.dialogAddToStage,n),n.addEventListener(egret.Event.REMOVED_FROM_STAGE,e.Alert.dialogRemoveFromStage,n),e.Alert.dialogs.push(n)},t.dialogRemoveFromStage=function(t){var n=t.currentTarget;n.removeEventListener(egret.Event.REMOVED_FROM_STAGE,e.Alert.dialogRemoveFromStage,n),e.Alert.dialogs.pop(),0==e.Alert.dialogs.length?e.Alert.container().removeChild(e.Alert.background):(n=e.Alert.dialogs[e.Alert.dialogs.length-1],e.Alert.container().swapChildren(e.Alert.background,n))},t}();t.dialogs=[],e.Alert=t}(lzm||(lzm={}));var lzm;!function(e){var t=function(){function t(){}return t.send=function(t,n,i,r,o){void 0===i&&(i=null),void 0===r&&(r=null),void 0===o&&(o="get");var s=new egret.HttpRequest,a=e.HttpClient.getRequestPars(n),l=function(e){s.removeEventListener(egret.Event.COMPLETE,l,s),s.removeEventListener(egret.IOErrorEvent.IO_ERROR,h,s),null!=i&&i(s.response)},h=function(e){s.removeEventListener(egret.Event.COMPLETE,l,s),s.removeEventListener(egret.IOErrorEvent.IO_ERROR,h,s),null!=r&&r(s.response)};s.addEventListener(egret.Event.COMPLETE,l,s),s.addEventListener(egret.IOErrorEvent.IO_ERROR,h,s),s.responseType=egret.HttpResponseType.TEXT,"get"==o?(s.open(t+"?"+a,egret.HttpMethod.GET),s.send()):"post"==o&&(s.open(t,egret.HttpMethod.POST),s.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),s.send(a))},t.getRequestPars=function(e){var t,n="";for(t in e)n+=t+"="+e[t]+"&";return n.substr(0,n.length-1)},t}();e.HttpClient=t}(lzm||(lzm={}));var lzm;!function(e){var t=function(){function e(e,t){this.isConnect=!1,this.host=e,this.port=t,this.socket=new egret.WebSocket,this.socket.addEventListener(egret.ProgressEvent.SOCKET_DATA,this.onReceiveMessage,this),this.socket.addEventListener(egret.Event.CONNECT,this.onSocketOpen,this),this.socket.addEventListener(egret.Event.CLOSE,this.onSocketClose,this),this.socket.addEventListener(egret.IOErrorEvent.IO_ERROR,this.onSocketIOError,this)}return e.prototype.connect=function(){this.socket.connect(this.host,this.port)},e.prototype.sendData=function(e){this.socket.writeUTF(JSON.stringify(e))},e.prototype.onSocketOpen=function(){this.isConnect=!0,null!=this.onConnectCallBack&&this.onConnectCallBack()},e.prototype.onReceiveMessage=function(e){var t=this.socket.readUTF();null!=this.onDataCallBack&&this.onDataCallBack(JSON.parse(t))},e.prototype.onSocketClose=function(e){this.isConnect=!1,null!=this.onCloseCallBack&&this.onCloseCallBack()},e.prototype.onSocketIOError=function(e){null!=this.onIOErrorCallBack&&this.onIOErrorCallBack()},e.prototype.dispose=function(){this.socket.close(),this.onConnectCallBack=null,this.onIOErrorCallBack=null,this.onCloseCallBack=null,this.onDataCallBack=null},e}();e.JSONWebSocketClient=t}(lzm||(lzm={}));